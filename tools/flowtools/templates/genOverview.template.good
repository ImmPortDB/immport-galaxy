<html>
<head>
<title>Scatter Plot</title>
<link rel="stylesheet" href="/static/flowtools/bootstrap/css/bootstrap.css"/>
<link rel="stylesheet" href="/static/flowtools/select2/select2.min.css"/>
<script src="/static/flowtools/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="/static/flowtools/bootstrap/js/bootstrap.js" type="text/javascript"></script>
<script src="/static/flowtools/select2/select2.full.min.js" type="text/javascript"></script>
<script src="/static/flowtools/d3/d3.min.js" type="text/javascript"></script>
<script src="/static/flowtools/js/overview.js" type="text/javascript"></script>
<script src="/static/flowtools/js/scatterplot.js" type="text/javascript"></script>



<style>
#input{font-family:Calibri,Arial}
#div{padding:5px;width:150px;height:100px;text-align:center}
table{width:100%;border:0px solid;border-collapse:collapse;text-align:center;}
th{background-color:#3e6db0;color:#fff;padding:5px}

.chartDiv {
    margin-top: 10px;
    margin-bottom: 10px;
    background-color: #D3D3D3;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
</style>
</head>
<body>

<div class="container-fluid">
<div class="row" style="padding-bottom:10px;min-height:500px;">
    <div  class="col-md-12">
            <ul class="nav nav-tabs tabs-main">
                <li class="homeTab active" data-value="mfi"><a href="#mfi" data-toggle="tab">MFI</a></li>
                <li class="homeTab" data-value="population"><a href="#population" data-toggle="tab">Population</a></li>
                <li class="homeTab" data-value="overviewPlot"><a href="#overviewPlot" data-toggle="tab">Overview Plot</a></li>
                <li class="homeTab" data-value="scatter2D"><a href="#scatter2D" data-toggle="tab">Scatter 2D</a></li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane active" id="mfi" style="min-height:500px;">
                    <div id="mfiDiv">MFI</div>
                </div>

                <div class="tab-pane" id="population" style="min-height:500px;">
                    <div id="popDiv">Population</div>
                </div>

                <div class="tab-pane" id="overviewPlot" style="min-height:500px;">
                    <div id="overviewPlotDiv">Overview</div>
                </div>


                <div class="tab-pane" id="scatter2D" style="min-height:500px;">
                    <div id="toolbarDiv" class="col-md-12 chartDiv">
                    X Axis: <select id="xAxisMarker" style="width:200px;">
                            </select>
                    Y Axis: <select id="yAxisMarker" style="width:200px;">
                            </select>
                    <button id="updateDisplay">Update Display</button>
                    </div>
                
                    <div class="col-md-12 charDiv">
                    <div id="scatterPlotDiv" class="col-md-9"></div>
                    <div id="populationDiv" class="col-md-3">
                    <table id="populationTable" border="0" width="100%">
                    <tr>
                      <th align="center"><input type="checkbox" checked id="selectall"/></th>
                      <th>#</th>
                      <th>Color</th>
                      <th>%</th>
                    </tr>
                    </table>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
var outputDirectory = "{{ outputDirectory }}";
var mfiLoaded = false;
var populationLoaded = false;
var overviewPlotLoaded = false;
var scatter2DLoaded = false;

$().ready(function() {
    $(document).on('shown.bs.tab','a[data-toggle="tab"]', function(e) {
      var tab = e.target.getAttribute("href");
      if (tab == '#mfi') {
        if (mfiLoaded) {
            return true;
        }
        mfiLoaded = true;
        displayMFI();
      }
      if (tab == '#population') {
        if (populationLoaded) {
            return true;
        }
        populationLoaded = true;
        displayPopulation();
      }
      if (tab == '#overviewPlot') {
        if (overviewPlotLoaded) {
            return true;
        }
        overviewPlotLoaded = true;
        displayOverviewPlot();
      }
      if (tab == '#scatter2D') {
        displayScatter2D();
      }
    });

    mfiLoaded = true;
    displayMFI();
});
</script>
</body>
</html>

