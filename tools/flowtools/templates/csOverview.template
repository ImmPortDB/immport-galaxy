<!DOCTYPE html>
<html>
<head lang="en">
<title>CrossSample Overview</title>
<meta charset="UTF-8">
<meta HTTP-EQUIV="Pragma" CONTENT="no-cache">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Plotly.js -->
<link rel="stylesheet" href="/static/flowtools/bootstrap/css/bootstrap.css"/>
<link rel="stylesheet" href="/static/flowtools/select2/select2.min.css"/>
<link rel="stylesheet" href="/static/flowtools/css/parallelCoordinates.css"/>
<link rel="stylesheet" href="/static/flowtools/datatables/datatables.min.css"/>
<link rel="stylesheet" href="/static/flowtools/datatables/Buttons-1.1.2/css/buttons.dataTables.min.css"/>
<link rel="stylesheet" href="/static/flowtools/datatables/Select-1.1.2/css/select.dataTables.min.css"/>
<link rel="stylesheet" href="/static/flowtools/datatables/Editor-1.5.6/css/editor.dataTables.min.css"/>
<script src="/static/flowtools/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="/static/flowtools/bootstrap/js/bootstrap.js" type="text/javascript"></script>
<script src="/static/flowtools/select2/select2.full.min.js" type="text/javascript"></script>
<script src="/static/flowtools/d3/d3.min.js" type="text/javascript"></script>
<script src="/static/flowtools/plotly-latest.min.js" type="text/javascript"></script>
<script src="/static/flowtools/datatables/datatables.min.js" type="text/javascript"></script>
<script src="/static/flowtools/datatables/Editor-1.5.6/js/dataTables.editor.min.js" type="text/javascript"></script>
<script src="/static/flowtools/js/csOverview.js" type="text/javascript"></script>
<script src="/static/flowtools/js/crossSamplePlots.js" type="text/javascript"></script>
<script src="/static/flowtools/js/pCoordMFIstats.js" type="text/javascript"></script>
<script src="/static/flowtools/js/pCoordCSstats.js" type="text/javascript"></script>
<script src="/static/flowtools/js/color_palette.js" type="text/javascript"></script>

<style>
#input{font-family:Calibri,Arial}
table.dataTable tbody td.dt-body-right {
    text-align: right;
}
#div{padding:5px;width:150px;height:100px;text-align:center}
table{width:100%;border:0px solid;border-collapse:collapse;text-align:center;}
th{background-color:#3e6db0;color:#fff;padding:5px}
</style>
</head>

<body>
<div class="container-fluid">
    <div class="row" style="padding-bottom:10px;min-height:500px;">
        <div  class="col-md-12">
            <ul class="nav nav-tabs tabs-main">
                <li class="homeTab active" data-value="prop"><a href="#prop" data-toggle="tab">Population Distribution</a></li>
                <li class="homeTab" data-value="stackedA"><a href="#stackedA" data-toggle="tab">Stacked Area Plot</a></li>
                <li class="homeTab" data-value="stackedB"><a href="#stackedB" data-toggle="tab">Stacked Bar Plot</a></li>
                <li class="homeTab" data-value="pcoord"><a href="#pcoord" data-toggle="tab">Parallel Coordinates Population Summary</a></li>
                <li class="homeTab" data-value="pcoordMFI"><a href="#pcoordMFI" data-toggle="tab">Parallel Coordinates MFI Summary</a></li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane active" id="prop" style="min-height:500px;">
                    <div class="row">
                        <div id="propDiv">Population Distribution</div>
                    </div>
                    <div class="row">
                    &nbsp;&nbsp;&nbsp;&nbsp;Edit population names below:
                    <div id="popnamesDiv"></div>
                    </div>
                </div>

                <div class="tab-pane" id="stackedA" style="min-height:500px;">
                    <div class="col-md-12 chartDiv">
                        <div id="plotDivA" class="col-md-10" style="height:100%;"></div>
                        
                        <div id="popDivA" class="col-md-2" style="height:100%;">
                            Select All: <input type="checkbox" checked id="popSelectAllA"/>
                            &nbsp;&nbsp;<button id="updateDisplayA">Update Display</button>
                            <table id="popTableA" class="table table-condensed table-bordered">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Pop. Names</th>
                                        <th>Color</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="stackedB" style="min-height:500px;">
                    <div class="col-md-12 chartDiv">
                        <div id="plotDivB" class="col-md-10" style="height:100%;"></div>
                        
                        <div id="popDivB" class="col-md-2" style="height:100%;">
                            Select All: <input type="checkbox" checked id="popSelectAllB"/>
                            &nbsp;&nbsp;<button id="updateDisplayB">Update Display</button>
                            <table id="popTableB" class="table table-condensed table-bordered">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Pop. Names</th>
                                        <th>Color</th>
                                     </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                    
                <div class="tab-pane" id="pcoord" style="min-height:500px;">
                    <div id="chartDivPC">
                        <div class="row">
                            <div class="col-md-10" style="height:100%;">
                                <div id="plotDivPC" style="height:50%;"></div>
                                <div id="tableDivPC" style="height:50%;"></div>
                            </div>
                            <div id="popDivPC" class="col-md-2" style="height:100%;">
                                <div class="widget">
	                                  <input type="range" min="0" max="1" value="0.8" step="0.01" id="PCline_opacity" >
	                                  </input>
                                      Opacity: <span id="pc_opacity">80%</span>
	                            </div>
                                Select All: <input type="checkbox" checked id="popSelectAllPC"/>
                                &nbsp;&nbsp;<button id="resetPCDisplay">Reset Display</button>
                                <table id="popTablePC" class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                          <th></th>
                                          <th>Sample Name</th>
                                          <th>Color</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="pcoordMFI" style="min-height:500px;">
                    <div id="chartDivPCm">
                        <div class="row">
                            <div id="smpDivPCm" class="col-md-1" style="height:100%;min-width:5%;">
                                Select All: <input type="checkbox" checked id="smpSelectAllPCm"/>
                                 <table id="smpTablePCm" class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                          <th>Sample Name</th>
                                          <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-9" style="height:100%">
                                <div id="plotDivPCm" style="height:50%"></div>
                                <div id="tableDivPCm" style="height:50%"></div>
                            </div>

                            <div id="popDivPCm" class="col-md-2" style="margin-top:5px;">
                                <div class="widget">
	                                  <input type="range" min="0" max="1" value="0.8" step="0.01" id="PCmline_opacity" >
	                                  </input>
                                      Opacity: <span id="pcm_opacity">80%</span>
	                            </div>
                                Select All: <input type="checkbox" checked id="popSelectAllPCm"/>
                                &nbsp;&nbsp;<button id="resetDisplayMFIpop">Reset Display</button>
                                <table id="popTablePCm" class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                          <th></th>
                                          <th>Population</th>
                                          <th>Color</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


</div>
</div>


<script>
//var outputDirectory = "{{ outputDirectory }}";

var poppropLoaded = false;
var stackedALoaded = false;
var stackedBLoaded = false;
var pCoordLoaded = false;
var pCoordMFILoaded = false;

$().ready(function() {
    $(document).on('shown.bs.tab','a[data-toggle="tab"]', function(e) {
      var tab = e.target.getAttribute("href");
      if (tab == '#prop') {
        if (poppropLoaded) {
            return true;
        }
        poppropLoaded = true;
        displayProp();
      }
      if (tab == '#stackedA') {
        if (stackedALoaded) {
            displayPopulationLegend(configAreaplot);
            updatePlot(configAreaplot);
            return true;
        }
        stackedALoaded = true;
        displayStackedAreaPlot();
      }
      if (tab == '#stackedB') {
        if (stackedBLoaded) {
            displayPopulationLegend(configBarplot);
            updatePlot(configBarplot);
            return true;
        }
        stackedBLoaded = true;
        displayStackedBarplot();
      }
      if (tab == '#pcoord') {
        if (pCoordLoaded) {
            displaySmpTable();
            displayTableGrid();
            return true;
        }
        pCoordLoaded = true;
        displayParallelCoordinates();
      }
      if (tab == '#pcoordMFI') {
        if (pCoordMFILoaded) {
            displayPopTablem();
            displaySmpTablem();
            displayTableGridm();
            return true;
        }
        pCoordMFILoaded = true;
        displayParallelCoordinatesMFI();
      }
    });

    poppropLoaded = true;
    displayProp();
});
</script>
</body>
</html>
