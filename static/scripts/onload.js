define("onload",["layout/panel","layout/modal","utils/async-save-text","ui/popupmenu","ui/autocom_tagging","mvc/tours","mvc/webhooks","utils/utils"],function(e,t,n,a,o,i,r,u){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){function a(e){var t={placeholder:"Click to select",closeOnSelect:!$(e).is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return e.select2(t)}jQuery.fn.select2&&(void 0===e&&(e=20),void 0===t&&(t=3e3),(n=n||$("select")).each(function(){var n=$(this).not("[multiple]"),o=n.find("option").length;o<e||o>t||n.hasClass("no-autocomplete")||a(n)}))}function s(){$("select[refresh_on_change='true']").off("change").change(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var a=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(a,n))return}$(window).trigger("refresh_on_change"),$(document).trigger("convert_to_values"),e.get(0).form.submit()}),$(":checkbox[refresh_on_change='true']").off("click").click(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var a=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(a,n))return}$(window).trigger("refresh_on_change"),e.get(0).form.submit()}),$("a[confirm]").off("click").click(function(){return confirm($(this).attr("confirm"))})}var f=l(e),d=l(t),p=l(n),h=l(a),m=l(o),w=l(i),g=l(r),v=l(u);window.jQuery=jQuery,window.$=jQuery,window._=_,window.Backbone=Backbone,window.panels=f.default,_.extend(window,d.default),window.async_save_text=p.default,window.make_popupmenu=h.default.make_popupmenu,window.make_popup_menus=h.default.make_popup_menus,window.init_tag_click_function=m.default,window.init_refresh_on_change=s,$(document).ready(function(){function e(){void 0!==Galaxy.root?Galaxy.config.enable_webhooks&&g.default.load({type:"onload",callback:function(e){e.each(function(e){var t=e.toJSON();t.activate&&t.script&&v.default.appendScriptStyle(t)})}}):setTimeout(e,100)}s(),$.fn.tooltip&&($(".unified-panel-header [title]").tooltip({placement:"bottom"}),$("[title]").tooltip()),h.default.make_popup_menus(),c(20,1500),$("a").click(function(){var e=$(this),t=window.parent.frames&&window.parent.frames.galaxy_main;if("galaxy_main"==e.attr("target")&&!t){var n=e.attr("href");-1==n.indexOf("?")?n+="?":n+="&",n+="use_panels=True",e.attr("href",n),e.attr("target","_self")}return e}),w.default.activeGalaxyTourRunner(),e()})});