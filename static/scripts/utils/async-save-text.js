define("utils/async-save-text",["exports","jquery"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t).default;e.default=function(e,t,r,n,a,u,o,s,l){void 0===a&&(a=30),void 0===o&&(o=4),i("#"+e).click(function(){if(!(i("#renaming-active").length>0)){var e,c=i("#"+t),f=c.text();(e=u?i("<textarea></textarea>").attr({rows:o,cols:a}).text(i.trim(f)):i("<input type='text'></input>").attr({value:i.trim(f),size:a})).attr("id","renaming-active"),e.blur(function(){i(this).remove(),c.show(),l&&l(e)}),e.keyup(function(a){if(27===a.keyCode)i(this).trigger("blur");else if(13===a.keyCode){var u={};u[n]=i(this).val(),i(this).trigger("blur"),i.ajax({url:r,data:u,error:function(){alert("Text editing for elt "+t+" failed")},success:function(t){""!==t?c.text(t):c.html("<em>None</em>"),l&&l(e)}})}}),s&&s(e),c.hide(),e.insertAfter(c),e.focus(),e.select()}})}});