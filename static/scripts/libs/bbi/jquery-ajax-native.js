!function(e,r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof exports?module.exports=r(require("jquery")):r(e.jQuery)}(this,function(e){var r=e.ajaxSettings;r.responseFields.native="responseNative",r.converters["* native"]=!0;var t={},n=0,o={0:200,1223:204},s={},a=jQuery.ajaxSettings.xhr();window.ActiveXObject&&e(window).on("unload",function(){for(var e in s)s[e]()}),t.cors=!!a&&"withCredentials"in a,t.ajax=a=!!a,e.ajaxTransport("native",function(e){var r;if(t.cors||a&&!e.crossDomain)return{send:function(t,a){var i,u=e.xhr(),d=++n,c={};if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)u[i]=e.xhrFields[i];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");for(i in t)u.setRequestHeader(i,t[i]);r=function(e){return function(){r&&(delete s[d],r=u.onload=u.onerror=null,"abort"===e?u.abort():"error"===e?a(u.status,u.statusText):(u.response&&(c.native=u.response),a(o[u.status]||u.status,u.statusText,c,u.getAllResponseHeaders())))}},u.onload=r(),u.onerror=r("error"),r=s[d]=r("abort");try{u.send(e.hasContent&&e.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),e.getNative=function(r,t){return e.ajax({dataType:"native",url:r,xhrFields:{responseType:"arraybuffer"},success:t})}});