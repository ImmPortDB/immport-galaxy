define([],function(){return Backbone.View.extend({initialize:function(a,b){this.app=a,this.field=b.field,this.text_enable=a.options.text_enable||"Enable",this.text_disable=a.options.text_disable||"Disable",this.cls_enable=a.options.cls_enable||"fa fa-caret-square-o-down",this.cls_disable=a.options.cls_disable||"fa fa-caret-square-o-up",this.setElement(this._template(b)),this.$field=this.$(".ui-form-field"),this.$preview=this.$(".ui-form-preview"),this.$collapsible=this.$(".ui-form-collapsible"),this.$collapsible_icon=this.$(".ui-form-collapsible").find(".icon"),this.$error_text=this.$(".ui-form-error-text"),this.$error=this.$(".ui-form-error"),this.$backdrop=this.$(".ui-form-backdrop"),this.$field.prepend(this.field.$el),this.field.collapsed=void 0!==b.collapsible_value&&JSON.stringify(b.value)==JSON.stringify(b.collapsible_value),this._refresh();var c=this;this.$collapsible.on("click",function(){c.field.collapsed=!c.field.collapsed,c._refresh()})},disable:function(a){this.$backdrop.show(),a&&this.$backdrop.css({opacity:0,cursor:"default"})},error:function(a){this.$error_text.html(a),this.$error.show(),this.$el.addClass("ui-error")},reset:function(){this.$error.hide(),this.$el.removeClass("ui-error")},_refresh:function(){this.$collapsible_icon.removeClass().addClass("icon"),this.field.collapsed?(this.$field.hide(),this.$preview.show(),this._tooltip(this.text_enable,this.cls_enable)):(this.$field.fadeIn("fast"),this.$preview.hide(),this._tooltip(this.text_disable,this.cls_disable)),this.app.trigger("change")},_tooltip:function(a,b){this.$collapsible_icon.addClass(b).tooltip({placement:"bottom"}).attr("data-original-title",a).tooltip("fixTitle").tooltip("hide")},_template:function(a){var b='<div class="ui-form-element"><div class="ui-form-error ui-error"><span class="fa fa-arrow-down"/><span class="ui-form-error-text"/></div><div class="ui-form-title">';return b+=a.disabled||void 0===a.collapsible_value?a.label:'<div class="ui-form-collapsible"><i class="icon"/>'+a.label+"</div>",b+='</div><div class="ui-form-field">',b+='<div class="ui-form-info">',a.help&&(b+=a.help),a.argument&&-1==a.help.indexOf("("+a.argument+")")&&(b+=" ("+a.argument+")"),b+='</div><div class="ui-form-backdrop"/></div>',a.collapsible_preview&&(b+='<div class="ui-form-preview">'+a.text_value+"</div>"),b+="</div>"}})});
//# sourceMappingURL=../../../maps/mvc/form/form-input.js.map