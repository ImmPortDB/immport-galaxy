define("mvc/library/library-model",["exports","mvc/library/library-util"],function(e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return e&&e.__esModule?e:{default:e}}(o),r=Backbone.Model.extend({urlRoot:Galaxy.root+"api/libraries/",isVisible:function(e){var o=!0;return!e&&this.get("deleted")&&(o=!1),o}}),i=Backbone.Collection.extend({urlRoot:Galaxy.root+"api/libraries",model:r,initialize:function(e){e=e||{}},search:function(e){if(""==e)return this;var o=e.toLowerCase();return this.filter(function(e){return-1!==e.get("name").toLowerCase().indexOf(o)})},getVisible:function(e,o){return o=o||[],new i(this.filter(function(o){return o.isVisible(e)}))},sortLibraries:function(e,o){this.comparator=t.default.generateLibraryComparator(e,o),this.sort()}}),n=Backbone.Model.extend({}),a=n.extend({urlRoot:Galaxy.root+"api/libraries/datasets/"}),l=n.extend({urlRoot:Galaxy.root+"api/folders/"}),s=Backbone.Collection.extend({model:n,sortFolder:function(e,o){this.comparator=t.default.generateFolderComparator(e,o),this.sort()}}),d=Backbone.Model.extend({defaults:{folder:new s,urlRoot:Galaxy.root+"api/folders/",id:"unknown"},parse:function(e){this.get("folder").reset();for(var o=0;o<e.folder_contents.length;o++)if("folder"===e.folder_contents[o].type){var t=new l(e.folder_contents[o]);this.get("folder").add(t)}else if("file"===e.folder_contents[o].type){var r=new a(e.folder_contents[o]);this.get("folder").add(r)}else Galaxy.emit.error("Unknown folder item type encountered while parsing response.");return e}}),u=Backbone.Model.extend({urlRoot:Galaxy.root+"api/histories/"}),f=Backbone.Collection.extend({urlRoot:Galaxy.root+"api/histories/",initialize:function(e){this.id=e.id},url:function(){return this.urlRoot+this.id+"/contents"},model:u}),c=Backbone.Model.extend({urlRoot:Galaxy.root+"api/histories/"}),x=Backbone.Collection.extend({url:Galaxy.root+"api/histories",model:c}),y=Backbone.Model.extend({urlRoot:Galaxy.root+"api/remote_files"});e.default={Library:r,Libraries:i,Item:a,Ldda:a,FolderAsModel:l,Folder:s,FolderContainer:d,HistoryItem:u,HistoryContents:f,GalaxyHistory:c,GalaxyHistories:x,Jstree:y}});