define("mvc/history/history-view-annotated",["exports","mvc/history/history-view","mvc/history/hda-li","mvc/history/hdca-li","mvc/base-mvc","utils/localization"],function(t,e,n,o,i,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(e),d=(a(n),a(o),a(i),a(r)),c=s.default.HistoryView,l=c.extend({className:c.prototype.className+" annotated-history-panel",_buildNewRender:function(){var t=c.prototype._buildNewRender.call(this);return this.renderHistoryAnnotation(t),t},renderHistoryAnnotation:function(t){var e=this.model.get("annotation");e&&t.find("> .controls .subtitle").text(e)},renderItems:function(t){t=t||this.$el,c.prototype.renderItems.call(this,t);var e=t.find("> .controls");e.find(".contents-container.headers").remove();$('<div class="contents-container headers"/>').append([$('<div class="history-content header"/>').text((0,d.default)("Dataset")),$('<div class="additional-info header"/>').text((0,d.default)("Annotation"))]).appendTo(e);return self.views},_renderItemView$el:function(t){return $('<div class="contents-container"/>').append([t.render(0).$el,$('<div class="additional-info"/>').text(t.model.get("annotation")||"")])},events:_.extend(_.clone(c.prototype.events),{"click .contents-container":function(t){t.stopPropagation(),$(t.currentTarget).find(".list-item .title-bar").click()},"click .icon-btn":function(t){t.stopPropagation();var e=$(t.currentTarget);e.length&&"dropdown"===e.attr("data-toggle")&&e.dropdown("toggle")}}),_clickSectionLink:function(t){var e=$(t.currentTarget).parent().parent().data("section");this.openSection(e)},toString:function(){return"AnnotatedHistoryView("+(this.model?this.model.get("name"):"")+")"}});t.default={AnnotatedHistoryView:l}});