{"version":3,"file":"workflow-canvas.js","sources":["../../../src/mvc/workflow/workflow-canvas.js"],"names":["define","CanvasManager","app","canvas_viewport","overview","this","cv","cc","find","oc","ov","init_drag","ScrollPanel","panel","$","extend","prototype","self","move","x","y","Math","min","width","max","height","css","left","top","background-position-x","background-position-y","update_viewport_overlay","each","scroll_panel","x_adjust","y_adjust","bind","o","offset","p","position","e","d","offsetX","offsetY","workflow","fit_canvas_to_nodes","draw_overview","in_w","in_h","o_w","o_h","offsetParent","new_x_offset","new_y_offset","op","opo","new_size","cc_pos","shift_h","shift_w","canvas_el","size","parent","c","get","getContext","cv_w","cv_h","ceil","attr","nodes","id","node","fillStyle","strokeStyle","lineWidth","node_element","element","w","h","tool_errors","undefined","workflow_outputs","length","fillRect","strokeRect","test","onmove","clearTimeout","timeout","pageX","pageY","panel_pos","panel_w","panel_h","viewport","viewport_w","viewport_h","viewport_offset","min_x","min_y","max_x","max_y","p_min_x","p_min_y","p_max_x","p_max_y","moved","close_dist","nudge","t","setTimeout","stop"],"mappings":"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"}