{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","Galaxy","root","createNewHistory","user","isAnonymous","displayMessage","$","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","get","storage","removeItemView","_setUpModelListeners","arguments","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}