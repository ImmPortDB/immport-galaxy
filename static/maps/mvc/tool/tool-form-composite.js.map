{"version":3,"file":"tool-form-composite.js","sources":["../../../src/mvc/tool/tool-form-composite.js"],"names":["define","Utils","Ui","Form","FormData","ToolFormBase","View","Backbone","extend","initialize","options","self","this","workflow_id","id","forms","steps","links","setElement","$header","$","addClass","append","Label","title","name","$el","Button","icon","onclick","_","each","form","portlet","collapse","expand","step","i","Galaxy","emit","debug","merge","parseInt","help","description","annotation","citations","needs_update","collapsible","collapsed","sustain_version","sustain_repeats","sustain_conditionals","narrow","text_enable","text_disable","cls_enable","cls_disable","sub_step","connections_by_name","output_connections","connection","step_id","input_step_id","input_name","matchIds","inputs","input","linked","step_type","type","output_name","visitInputs","data_resolved","undefined","isObject","is_data_input","indexOf","is_workflow_parameter","_isWorkflowParameter","value","startsWith","length","is_workflow","__class__","optional","validate","collapsible_value","collapsible_preview","String","onchange","input_value","data","create","link","trigger","matchContext","reference","output_connection","matched_input","field_list","match","push","wp_fields","wp_inputs","wp_count","wp_style","wp_field","wp_color","wp_cls","$wp_input","css","color","border-color","wp_name","wp_element","element_list","disable","label","isEmpty","wp_form","wp_value","sanitize","input_list","post_job_actions","reduce","memo","short_str","history_form","history_id","test_param","cases","execute_btn","cls","floating","_execute","job_def","parameters","validated","job_inputs","order_index","job_input_id","input_id","input_def","values","highlight","console","log","JSON","stringify","_enabled","request","url","root","success","response","parent","currHistoryPanel","refreshContents","error","err_data","error_messages","matchResponse","modal","show","body","err_msg","ToolTemplate","buttons","Close","hide","complete","enabled","unwait","wait","enable","substring"],"mappings":"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"}