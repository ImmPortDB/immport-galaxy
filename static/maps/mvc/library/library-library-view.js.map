{"version":3,"file":"library-library-view.js","sources":["../../../src/mvc/library/library-library-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","LibraryView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchLibrary","Library","that","fetch","success","show_permissions","showPermissions","render","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","$","remove","template","templateLibrary","$el","html","item","tooltip","shareDataset","info","goBack","undefined","fetched_permissions","set","access_library_role_list","length","is_unrestricted","is_admin","user","isAdmin","templateLibraryPermissions","library","self","get","root","done","prepareSelectBoxes","fail","css","_serializeRoles","role_list","selected_roles","i","push","selected_access_library_roles","selected_add_item_roles","add_library_item_role_list","selected_manage_library_roles","manage_library_role_list","selected_modify_library_roles","modify_library_role_list","accessSelectObject","_createSelectOptions","addSelectObject","manageSelectObject","modifySelectObject","init_data","is_library_access","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","initialData","dropdownCssClass","comingSoon","warning","copyToClipboard","href","history","location","lastIndexOf","substr","window","prompt","makeDatasetPrivate","post","removeDatasetRestrictions","_extractIds","roles_list","ids_list","savePermissions","access_ids","select2","add_ids","manage_ids","modify_ids","access_ids[]","add_ids[]","manage_ids[]","modify_ids[]","tmpl_array","join"],"mappings":"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"}