{"version":3,"file":"phyloviz.js","sources":["../../src/viz/phyloviz.js"],"names":["define","d3","visualization_mod","data_mod","mod_icon_btn","PhyloTreeLayout","layout","node","maxDepth","vertSeparation","parent","children","sumChildVertSeparation","dist","defaultDist","y0","depthSeparation","maxTextWidth","forEach","child","x0","length","leafIndex","x","y","self","this","hierarchy","sort","value","height","layoutMode","leafHeight","inputLeafHeight","mode","layoutAngle","angle","isNaN","separation","links","nodes","tree","d","i","toString","call","_nodes","numLeaves","window","_d","depth","push","UserMenuBase","Backbone","View","extend","className","isAcceptableValue","$inputKey","min","max","isNumeric","n","parseFloat","isFinite","val","fieldName","attr","replace","alert","hasIllegalJsonCharacters","search","PhyloTree","Visualization","defaults","type","title","scaleFactor","translate","fontSize","selectedNode","nodeAttrChangedTime","initialize","options","set","Dataset","id","dataset_id","root","toggle","_children","toggleAll","getData","save","cleanTree","_selected","config","jQuery","attributes","show_message","$","ajax","url","dataType","data","JSON","stringify","success","hide_modal","PhylovizLayoutBase","nodeRadius","stdInit","model","on","updateAndRender","vis","width","source","select","renderNodes","renderLinks","addTooltips","link","diagonal","duration","selectAll","target","calcalateLinePos","pos0","pos1","pos2","linkEnter","enter","insert","append","linkUpdate","transition","exit","remove","selectNode","classed","name","annotation","__data__","tooltip","placement","trigger","PhylovizLinearView","margins","svg","projection","get","nodeEnter","event","stopPropagation","altKey","style","nodeUpdate","text","nodeExit","PhylovizView","MIN_SCALE","MAX_SCALE","MAX_DISPLACEMENT","radius","resize","render","phyloTree","zoomFunc","behavior","zoom","scaleExtent","scale","navMenu","HeaderButtons","settingsMenu","SettingsMenu","nodeSelectionView","NodeSelectionView","PhyloVizSearch","setTimeout","zoomAndPan","empty","mainSVG","boundingRect","layoutOptions","zoomParams","translateParams","translationCoor","zoomStatement","translateStatement","split","reloadViz","treeIndex","getJSON","tree_index","data_type","packedJson","phylovizView","off","initNavBtns","initRightHeaderBtns","rightMenu","create_icon_buttons_menu","icon_class","on_click","show","updateUI","nexSelected","open","tooltip_config","$el","el","inputs","hide","resetToDefaults","apply","each","key","$input","UI","enableEdit","saveChanges","cancelChanges","valuesOfConcern","updateNodes","fn","enable","isEnabled","removeAttr","toggleUI","checked","is","Date","searchTerm","searchConditionVal","condition","searchTree","attrVal","toLowerCase","indexOf"],"mappings":"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"}