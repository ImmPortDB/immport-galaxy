{"version":3,"file":"trackster.js","sources":["../../src/viz/trackster.js"],"names":["ui","view","browser_router","require","mod_utils","cssLoadFile","define","_","tracks","visualization","mod_icon_btn","query_string","Base","this","initialize","apply","arguments","extend","Backbone","Model","TracksterUI","baseURL","save_viz","Galaxy","modal","show","title","body","bookmarks","$","each","push","position","children","text","annotation","overview_track_name","overview_drawable","config","get_value","viz_config","to_dict","viewport","chrom","start","low","end","high","overview","ajax","url","root","type","dataType","data","id","vis_id","dbkey","vis_json","JSON","stringify","success","vis_info","hide","has_changes","window","history","pushState","location","hash","error","buttons","Cancel","createButtonMenu","self","menu","create_icon_buttons_menu","icon_class","on_click","select_datasets","f-dbkey","new_tracks","track","add_drawable","object_from_template","DrawableGroup","name","force_right_panel","css","handle_unsaved_changes","tooltip_config","placement","buttonMenu","add_bookmarks","alert","table_html","Insert","first","val","attr","hda_id","ldda_id","then","i","length","row","add_bookmark","editable","bookmarks_container","new_bookmark","addClass","appendTo","position_div","annotation_div","click","go_to","delete_icon_container","prependTo","slideUp","remove","make_text_editable","num_rows","use_textarea","help_text","create_visualization","view_config","viewport_config","drawables_config","bookmarks_config","TracksterView","header","editor","when","load_chroms_deferred","chrom_info","overview_drawable_name","undefined","change_chrom","drawables","set_overview","bookmark","set_up_router","options","TrackBrowserRouter","init_keyboard_nav","document","keyup","e","srcElement","is","which","move_fraction","Math","round","viewport_container","height","scrollTop","Leave without Saving","off","Save","View","$el","append","resize_window","galaxy_config","app","view_existing","get","choose_existing_or_new","view_new","listTracksParams","dataset_params","dataset_id","hda_ldda","param","view_in_saved","show_choice","Add to visualization","parent","find","View in saved visualization","View in new visualization","console","debug","container","init_editor","response","template_view_new","Create","create_browser","dbkeys_in_genomes","map","r","default_dbkey","contains","focus","select2","html","trigger","gene_region","add_dataset","data_type","track_data","on","GalaxyApp"],"mappings":"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"}